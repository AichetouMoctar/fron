<div class="home-page">
  <!-- Hero section -->
  <div class="hero">
    <h1>Bienvenue sur WIJHA</h1>
    <p>Consultez le réseau de transport de Nouakchott en temps réel</p>

    <button class="btn-gps" (click)="findNearby()" [disabled]="isSearchingNearby">
      <i class="fas fa-crosshairs" [class.fa-spin]="isSearchingNearby"></i>
      {{ isSearchingNearby ? 'Recherche...' : 'Arrêts autour de moi' }}
    </button>
  </div>

  <!-- Arrêts proches -->
  @if (nearbyStops.length > 0) {
    <section class="section">
      <h2 class="section-title">
        <i class="fas fa-map-marker-alt"></i> Arrêts à proximité
      </h2>
      <div class="cards-grid">
        @for (stop of nearbyStops; track stop.id) {
          <div class="stop-card">
            <div class="stop-icon">
              <i class="fas fa-map-pin"></i>
            </div>
            <div class="stop-info">
              <strong>{{ stop.nom }}</strong>
              @if (stop.distance) {
                <span class="distance">{{ stop.distance }}m</span>
              }
            </div>
          </div>
        }
      </div>
    </section>
  }

  <!-- Lignes rapides -->
  <section class="section">
    <div class="section-header">
      <h2 class="section-title">
        <i class="fas fa-route"></i> Lignes de transport
      </h2>
      <a routerLink="/lines" class="see-all">Voir tout <i class="fas fa-arrow-right"></i></a>
    </div>
    <div class="cards-grid">
      @for (ligne of lignes.slice(0, 6); track ligne.id) {
        <a [routerLink]="['/lines', ligne.id]" class="line-card">
          <div class="line-badge" [style.background]="ligne.couleur || '#3b82f6'">
            {{ ligne.code || 'L' }}
          </div>
          <div class="line-info">
            <strong>{{ ligne.nom }}</strong>
            <span class="line-sub">{{ ligne.arretDepart }} → {{ ligne.arretArrivee }}</span>
          </div>
          <i class="fas fa-chevron-right"></i>
        </a>
      }
    </div>
    @if (lignes.length === 0) {
      <div class="empty-state">
        <i class="fas fa-bus"></i>
        <p>Aucune ligne disponible</p>
      </div>
    }
  </section>
</div>